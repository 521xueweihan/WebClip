!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WebClip=t():e.WebClip=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=document.createElement("ul"),o=this;return n.classList.add("webclip-toolbar"),this.plugins.map(function(e){var t=document.createElement("li");if(t.classList.add("webclip-item"),t.setAttribute("title",e.description||e.name),e.icon){var i=document.createElement("img");i.src=e.icon,t.classList.add("icon"),t.appendChild(i)}else t.textContent=e.name.charAt(0).toUpperCase();t.addEventListener("click",function(){e.action(o.selectedContent,o.selection.getRangeAt(0).cloneRange())}),n.appendChild(t)}),this.el.appendChild(n)}function l(e){setTimeout(e,100)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(1);var r=function(){function e(t){var n=this;o(this,e),this.el=t,this.plugins=[],this.selectedContent=null,this.selection=null,this.toolbar=null,this.el.addEventListener("mousedown",function(e){n.selectedContent}),this.el.addEventListener("mouseup",function(e){l(function(){if(n.selection=window.getSelection(),n.selectedContent=n.selection.toString(),"Range"===n.selection.type){var e=n.selection.getRangeAt(0).cloneRange(),t=e.getBoundingClientRect();n.showToolbar(t)}else n.hideToolbar()})})}return s(e,[{key:"use",value:function(e){this.plugins.push(e)}},{key:"showToolbar",value:function(e){this.toolbar||(this.toolbar=i.call(this)),this.toolbar.style.opacity="1";var t=this.toolbar.offsetWidth,n=this.toolbar.offsetHeight;this.toolbar.style.left=(e.right-e.left)/2+e.left-t/2+"px",this.toolbar.style.top=e.top-n-4+"px"}},{key:"hideToolbar",value:function(){this.toolbar&&(this.toolbar.style.opacity="0")}}]),e}();t["default"]=r},function(e,t){}])});